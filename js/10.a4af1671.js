"use strict";(self.webpackChunkreactdemo=self.webpackChunkreactdemo||[]).push([[10],{86341:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(26565),o=n(80289);function a(e){return(0,r.Jt)(o.A.userList,e)}},37010:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(22274),o=n(33571),a=n(38698),i=n(15025),c=n(47705),l=n(45064),u=n(39471),s=n(49402),f=n(69173),d=n(87159),p=n(93929),y=n(19673),m=n(16901),b=n(6726),h=n(80289);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const w=function(e){var t=v((0,u.useState)(0),2),n=t[0],r=t[1],o=e.modalClose;return u.createElement(s.A,{title:"\u7f16\u8f91",keyboard:!1,maskClosable:!1,destroyOnClose:!0,visible:e.visible,onOk:function(){r(0),o(!1)},onCancel:function(){r(0),o(!1)}},u.createElement(d.A,{gutter:24},u.createElement(y.A,{span:12},u.createElement(m.A,null)),u.createElement(y.A,{span:12},u.createElement(p.A,{action:"".concat(h.A.upload),name:"upfile",headers:{token:"dc91f324d3a641209a4b129ee1261ec7"},onChange:function(e){var t=e.file,n=(e.fileList,e.event);if("uploading"===t.status)if(n){var o=n.loaded/n.total*100;r(Number(o.toFixed(0)))}else r(0);else if("done"===t.status){var a=t.response;if(200===a.code){var i=a.data;console.log(i)}}}},u.createElement(c.A,null,u.createElement(b.A,null)," \u4e0a\u4f20")))),u.createElement(d.A,{gutter:24},u.createElement(y.A,{span:12,offset:12},u.createElement(f.A,{type:"circle",percent:n}))))};var A=n(86341),E=n(47743);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}(this,n)}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(d,e);var t,n,s,f=C(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(j(e=f.call.apply(f,[this].concat(n))),"columns",[{title:"\u5e8f\u53f7",key:"index",render:function(e,t,n){return n+1}},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age"},{title:"\u6027\u522b",dataIndex:"gender",key:"gender",render:function(e,t,n){return 1===e?"\u7537":"\u5973"}},{title:"\u5934\u50cf",dataIndex:"avatar",key:"avatar",with:110,render:function(e,t,n){return u.createElement(l.A,{src:e,alt:t.name,title:t.name,width:100})}},{title:"\u6dfb\u52a0\u65f6\u95f4",dataIndex:"createtime",render:function(e,t,n){return(r=e)?new Date(r).Format("yyyy-MM-dd hh:mm:ss"):"";var r}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t,n){return 1===e?"\u542f\u7528":"\u7981\u7528"}},{title:"\u64cd\u4f5c",dataIndex:"action",width:260,key:"action",render:function(t,n,r){n.status;return u.createElement("div",null,u.createElement(c.A,{type:"primary",onClick:function(){return e.edit(n)}},"\u7f16\u8f91"),"\u2003",u.createElement(i.A,{placement:"top",title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:function(){return e.delete(n)}},u.createElement(c.A,{type:"danger"},"\u5220\u9664")))}}]),z(j(e),"state",{tableData:[],visible:!1,loading:!0,page:1,size:20,total:0,pageSizeOptions:["20","50",100]}),z(j(e),"search",(function(){var t=e.state,n=t.page,r=t.size;(0,A.a)({page:n,size:r}).then((function(t){if(e.setState({loading:!1}),200===t.code){var n=t.data,r=n.records,o=void 0===r?[]:r,a=n.total;e.setState({tableData:o,total:a}),window.scrollTo(0,0)}}))})),z(j(e),"pageChange",(function(t,n){e.setState({page:t,size:n},(function(){console.log(90),e.search()}))})),z(j(e),"componentDidMount",(function(){e.search()})),z(j(e),"edit",(function(t){e.setState({visible:!0})})),z(j(e),"delete",(function(e){console.log(e)})),z(j(e),"modalClose",(function(t){e.setState({visible:!1})})),z(j(e),"switch",(function(t){var n=1===t.status?2:1;(0,E._k)({id:t.id,status:n}).then((function(t){200===t.code?(a.Ay.success("\u7528\u6237\u72b6\u6001\u4fee\u6539\u6210\u529f"),e.search()):a.Ay.error("\u7528\u6237\u72b6\u6001\u4fee\u6539\u5931\u8d25")}))})),e}return t=d,(n=[{key:"render",value:function(){var e=this.state,t=e.tableData,n=e.page,a=e.size,i=e.total,c=e.pageSizeOptions,l=e.loading,s=e.visible,f=this.columns;return u.createElement(u.Fragment,null,u.createElement(o.A,{bordered:!0,rowKey:"id",dataSource:t,columns:f,pagination:!1,loading:l}),u.createElement("div",{className:"page"},u.createElement(r.A,{showSizeChanger:!0,onChange:this.pageChange,pageSizeOptions:c,current:n,pageSize:a,total:i})),u.createElement(w,{visible:s,modalClose:this.modalClose}))}}])&&S(t.prototype,n),s&&S(t,s),Object.defineProperty(t,"prototype",{writable:!1}),d}(u.Component);const P=I}}]);