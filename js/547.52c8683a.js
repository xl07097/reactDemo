"use strict";(self.webpackChunkreactdemo=self.webpackChunkreactdemo||[]).push([[547],{26709:(e,t,n)=>{n.d(t,{l:()=>a});var r=n(63590),o=n(2418);function a(e){return(0,r.U2)(o.Z.userList,e)}},13547:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(45539),o=n(43842),a=n(48290),i=n(568),l=n(70445),c=n(34165),u=n(35466),s=n(58054),f=n(95871),d=n(49624),p=n(14921),y=n(40137),m=n(17172),b=n(3095),h=n(2418);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(c){l=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const w=function(e){var t=v((0,u.useState)(0),2),n=t[0],r=t[1],o=e.modalClose;return u.createElement(s.Z,{title:"\u7f16\u8f91",keyboard:!1,maskClosable:!1,destroyOnClose:!0,visible:e.visible,onOk:function(){r(0),o(!1)},onCancel:function(){r(0),o(!1)}},u.createElement(d.Z,{gutter:24},u.createElement(y.Z,{span:12},u.createElement(m.Z,null)),u.createElement(y.Z,{span:12},u.createElement(p.Z,{action:"".concat(h.Z.upload),name:"upfile",headers:{token:"dc91f324d3a641209a4b129ee1261ec7"},onChange:function(e){var t=e.file,n=(e.fileList,e.event);if("uploading"===t.status)if(n){var o=n.loaded/n.total*100;r(Number(o.toFixed(0)))}else r(0);else if("done"===t.status){var a=t.response;if(200===a.code){var i=a.data;console.log(i)}}}},u.createElement(l.Z,null,u.createElement(b.Z,null)," \u4e0a\u4f20")))),u.createElement(d.Z,{gutter:24},u.createElement(y.Z,{span:12,offset:12},u.createElement(f.Z,{type:"circle",percent:n}))))};var E=n(26709),O=n(42564);function S(e){return e?new Date(e).Format("yyyy-MM-dd hh:mm:ss"):""}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===Z(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(d,e);var t,n,s,f=x(d);function d(){var e;C(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(z(e=f.call.apply(f,[this].concat(n))),"columns",[{title:"\u5e8f\u53f7",key:"index",render:function(e,t,n){return n+1}},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age"},{title:"\u6027\u522b",dataIndex:"gender",key:"gender",render:function(e,t,n){return 1===e?"\u7537":"\u5973"}},{title:"\u5934\u50cf",dataIndex:"avatar",key:"avatar",with:110,render:function(e,t,n){return u.createElement(c.Z,{src:e,alt:t.name,title:t.name,width:100})}},{title:"\u6dfb\u52a0\u65f6\u95f4",dataIndex:"createtime",render:function(e,t,n){return S(e)}},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e,t,n){return 1===e?"\u542f\u7528":"\u7981\u7528"}},{title:"\u64cd\u4f5c",dataIndex:"action",width:260,key:"action",render:function(t,n,r){n.status;return u.createElement("div",null,u.createElement(l.Z,{type:"primary",onClick:function(){return e.edit(n)}},"\u7f16\u8f91"),"\u2003",u.createElement(i.Z,{placement:"top",title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:function(){return e.delete(n)}},u.createElement(l.Z,{type:"danger"},"\u5220\u9664")))}}]),_(z(e),"state",{tableData:[],visible:!1,loading:!0,page:1,size:20,total:0,pageSizeOptions:["20","50",100]}),_(z(e),"search",(function(){var t=e.state,n=t.page,r=t.size;(0,E.l)({page:n,size:r}).then((function(t){if(e.setState({loading:!1}),200===t.code){var n=t.data,r=n.records,o=void 0===r?[]:r,a=n.total;e.setState({tableData:o,total:a}),window.scrollTo(0,0)}}))})),_(z(e),"pageChange",(function(t,n){e.setState({page:t,size:n},(function(){console.log(90),e.search()}))})),_(z(e),"componentDidMount",(function(){e.search()})),_(z(e),"edit",(function(t){e.setState({visible:!0})})),_(z(e),"delete",(function(e){console.log(e)})),_(z(e),"modalClose",(function(t){e.setState({visible:!1})})),_(z(e),"switch",(function(t){var n=1===t.status?2:1;(0,O.XZ)({id:t.id,status:n}).then((function(t){200===t.code?(a.ZP.success("\u7528\u6237\u72b6\u6001\u4fee\u6539\u6210\u529f"),e.search()):a.ZP.error("\u7528\u6237\u72b6\u6001\u4fee\u6539\u5931\u8d25")}))})),e}return t=d,(n=[{key:"render",value:function(){var e=this.state,t=e.tableData,n=e.page,a=e.size,i=e.total,l=e.pageSizeOptions,c=e.loading,s=e.visible,f=this.columns;return u.createElement(u.Fragment,null,u.createElement(o.Z,{bordered:!0,rowKey:"id",dataSource:t,columns:f,pagination:!1,loading:c}),u.createElement("div",{className:"page"},u.createElement(r.Z,{showSizeChanger:!0,onChange:this.pageChange,pageSizeOptions:l,current:n,pageSize:a,total:i})),u.createElement(w,{visible:s,modalClose:this.modalClose}))}}])&&k(t.prototype,n),s&&k(t,s),Object.defineProperty(t,"prototype",{writable:!1}),d}(u.Component);const D=A}}]);